syntax = "proto3";

package proto;

option go_package = "proto";

import "github.com/gogo/protobuf/gogoproto/gogo.proto";

option (gogoproto.unmarshaler_all) = false;
option (gogoproto.marshaler_all) = false;
option (gogoproto.sizer_all) = false;

message VideoInput {
    string uri = 1;
    string format = 2;
    string stereo_format = 3;
    string projection = 4;
    uint32 framerate = 5;
    bool is_smooth_proj = 6;
}

message VideoOutput {
    string codec = 1;
    string format = 2;
    string stereo_format = 3;
    string projection = 4;
    string destination = 5;
    bool is_live = 6;
    string rtmp_address = 7;
    string backup_rtmp_address = 8;
    string object_name = 9;

    uint32 width = 20;
    uint32 height = 21;
    uint32 bitrate = 22;
    uint32 framerate = 23;
    uint32 gop_size = 24;
    uint32 const_rate_factor = 25;
    uint32 min_rate = 26;
    uint32 max_rate = 27;
    uint32 buf_size = 28;

    string preset = 40;
    string profile = 41;

    uint32 segment_time = 60;
    uint32 segment_list_size = 61;

    string interpolation = 80;
    uint32 cube_edge_length = 81;
    float cube_offcenter_z = 82;
    float expand_coef = 83;
    float offset_z = 84;
    uint32 streams = 85;
    uint32 total_streams = 86;
    uint32 yaw = 87;
    float padding = 88;
    string cubemap_face_order = 89;
    bool is_smoothstep = 90;
}

enum TranscodeStatus {
    NONE = 0;
    PENDING = 1;
    ENCODING = 4;
    COMPLETED = 5;
    FAILED = 6;
    CANCELED = 7;
    ONAIR = 8;
    PREPARE_FOR_ENCODING = 9;
    READY_FOR_ENCODING = 10;
    SYNCED = 11;
    BROADCASTING = 12;
}